{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6ee38cb0341aff396f40","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"Rx\",\"commonjs2\":\"rxjs\",\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}","webpack:///./src/createContext.ts","webpack:///./src/permit.ts","webpack:///./src/store.ts","webpack:///./src/checkRestrictPropNames.ts","webpack:///./src/internal.ts","webpack:///./src/link.tsx","webpack:///./src/printReflowContext.ts","webpack:///./src/provide.ts","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack:///./src/index.ts"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,+C;;;;;;ACAA,+C;;;;;;;ACAA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,uBAAuB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,oCAAoC,4CAA4C;AAChF;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnIA;AACA,8CAA8C,cAAc;AAC5D;AACA,iCAAiC;AACjC;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,EAAE;AACF,kCAAkC;AAClC;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA,EAAE;AACF,kCAAkC;AAClC;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB,oCAAoC,wBAAwB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDAAkD,gBAAgB;AAClE;AACA;AACA;AACA;AACA,uDAAuD,gBAAgB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;ACxMA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,yCAAyC,EAAE;AAC3E;AACA;AACA;AACA,KAAK,IAAI;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,uBAAuB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,uFAAuF,kCAAkC,EAAE;AAC3H;AACA,wCAAwC,uBAAuB;AAC/D;AACA;AACA;AACA;AACA;AACA,yBAAyB,IAAI;AAC7B,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;;;;;;;;AC3MA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA,6DAA6D,gCAAgC,EAAE;AAC/F;AACA;AACA;;;;;;;;ACPA;AACA,8CAA8C,cAAc;AAC5D;AACA;;;;;;;;ACHA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,gGAAgG;AACnK;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;;;;;;;AC7DA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,YAAY;AACZ;AACA;AACA,4BAA4B,gBAAgB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA,mDAAmD,gDAAgD,EAAE;AACrG;AACA;AACA;AACA,sCAAsC,wCAAwC,EAAE;AAChF,KAAK;AACL;AACA;AACA;AACA;AACA;;;;;;;;ACtDA;AACA;AACA;AACA,UAAU,gBAAgB,sCAAsC,iBAAiB,EAAE;AACnF,yBAAyB,uDAAuD;AAChF;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA,CAAC;AACD,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,oBAAoB,uBAAuB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,EAAE;AACnG,8CAA8C,gDAAgD,EAAE;AAChG;AACA,iDAAiD,mDAAmD,EAAE;AACtG,8CAA8C,iDAAiD,EAAE;AACjG,mEAAmE;AACnE;AACA,kIAAkI,uCAAuC,kBAAkB,EAAE;AAC7L;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AC9FA,gD;;;;;;;ACAA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA","file":"lib/reflow.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"rxjs\"), require(\"react-dom\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"rxjs\", \"react-dom\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Reflow\"] = factory(require(\"react\"), require(\"rxjs\"), require(\"react-dom\"));\n\telse\n\t\troot[\"Reflow\"] = factory(root[\"React\"], root[\"Rx\"], root[\"ReactDOM\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_10__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 11);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6ee38cb0341aff396f40","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"Rx\",\"commonjs2\":\"rxjs\",\"commonjs\":\"rxjs\",\"amd\":\"rxjs\"}\n// module id = 1\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = require(\"react\");\nvar store_1 = require(\"./store\");\nvar checkRestrictPropNames_1 = require(\"./checkRestrictPropNames\");\nexports.mountedStores = new Set();\nfunction createContext(config) {\n    checkRestrictPropNames_1.checkRestrictedPropNames(config.state, function (propName, restrictedPropNames) {\n        return \"Do not inlcude \" + propName + \" to \\\"state\\\", Restricted prop names are [\" + restrictedPropNames.join(', ') + \"]\";\n    });\n    var isolated = config.isolate === true;\n    var toChildrenContextTypes = { '_REFLOW_CONTEXT_': react_1.PropTypes.object };\n    var fromParentContextTypes = {};\n    if (!isolated) {\n        toChildrenContextTypes['_REFLOW_PARENT_CONTEXT_'] = react_1.PropTypes.object;\n        fromParentContextTypes['_REFLOW_PARENT_CONTEXT_'] = react_1.PropTypes.object;\n    }\n    var Context = (function (_super) {\n        __extends(Context, _super);\n        function Context() {\n            var _this = _super !== null && _super.apply(this, arguments) || this;\n            _this.getContextProps = function () {\n                return _this.props;\n            };\n            // ---------------------------------------------\n            // StorePermit API\n            // ---------------------------------------------\n            _this.hasParent = function () {\n                return _this.permit.hasParent();\n            };\n            _this.hasState = function (name) {\n                return _this.permit.hasState(name);\n            };\n            _this.isPlainState = function (name) {\n                return _this.permit.isPlainState(name);\n            };\n            _this.observe = function () {\n                var names = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    names[_i] = arguments[_i];\n                }\n                return (_a = _this.permit).observe.apply(_a, names);\n                var _a;\n            };\n            _this.getState = function () {\n                var names = [];\n                for (var _i = 0; _i < arguments.length; _i++) {\n                    names[_i] = arguments[_i];\n                }\n                return (_a = _this.permit).getState.apply(_a, names);\n                var _a;\n            };\n            _this.dispatch = function (action) {\n                return _this.permit.dispatch(action);\n            };\n            return _this;\n        }\n        Context.prototype.getChildContext = function () {\n            var context = { '_REFLOW_CONTEXT_': this.store };\n            if (!isolated)\n                context['_REFLOW_PARENT_CONTEXT_'] = this.store;\n            return context;\n        };\n        ;\n        Context.prototype.render = function () {\n            // FIXME Allow multiple children elements. However, multiple children are warapped in <div>\n            return react_1.Children.count(this.props.children) > 1\n                ? react_1.createElement('div', null, this.props.children)\n                : this.props.children;\n        };\n        Context.prototype.receiveProps = function (prevProps, nextProps) {\n            var _this = this;\n            Object.keys(nextProps).forEach(function (name) {\n                if (typeof _this.contextProps[name] === 'function' && prevProps[name] !== nextProps[name]) {\n                    _this.contextProps[name](prevProps[name], nextProps[name]);\n                }\n            });\n        };\n        Context.prototype.componentWillMount = function () {\n            // FIXME props를 통해서 parentStore 수동 입력 (다른 frame과 혼합시에 도움이 될듯 싶다)\n            this.store = new store_1.Store(config, this.props.parentStore || this.context._REFLOW_PARENT_CONTEXT_);\n            this.permit = this.store.access();\n            exports.mountedStores.add(this.store);\n            if (typeof config.handleContextProps === 'function') {\n                this.unhandleContextProps = config.handleContextProps(this.permit.tools, this.getContextProps);\n            }\n            if (typeof config.receiveContextProps === 'function') {\n                this.contextProps = config.receiveContextProps(this.permit.tools);\n                checkRestrictPropNames_1.checkRestrictedPropNames(this.contextProps, function (propName, restrictedPropNames) {\n                    return \"Do not inlcude \" + propName + \" to \\\"receiveContextProps\\\", Restricted prop names are [\" + restrictedPropNames.join(', ') + \"]\";\n                });\n                this.receiveProps({}, this.props);\n            }\n        };\n        Context.prototype.componentWillReceiveProps = function (nextProps) {\n            if (this.contextProps) {\n                this.receiveProps(this.props, nextProps);\n            }\n        };\n        Context.prototype.componentWillUnmount = function () {\n            if (exports.mountedStores.has(this.store))\n                exports.mountedStores.delete(this.store);\n            if (typeof this.unhandleContextProps === 'function')\n                this.unhandleContextProps();\n            this.unhandleContextProps = null;\n            this.permit.destroy();\n            this.store.destroy();\n            this.permit = null;\n            this.store = null;\n        };\n        Context.prototype.shouldComponentUpdate = function (nextProps) {\n            return this.props.children !== nextProps.children;\n        };\n        return Context;\n    }(react_1.Component));\n    Context.displayName = \"Context({\" + Object.keys(config.state).join(',') + \"})\";\n    // to children components\n    Context.childContextTypes = toChildrenContextTypes;\n    Context.contextTypes = fromParentContextTypes;\n    return Context;\n}\nexports.createContext = createContext;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/createContext.ts\n// module id = 2\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar observe = function (permit) { return function () {\n    var names = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        names[_i] = arguments[_i];\n    }\n    return permit.observe.apply(permit, names);\n}; };\nvar getState = function (permit) { return function () {\n    var names = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        names[_i] = arguments[_i];\n    }\n    return permit.getState.apply(permit, names);\n}; };\nvar dispatch = function (permit) { return function (action) {\n    return permit.dispatch(action);\n}; };\nfunction isPromise(obj) {\n    return !!obj && (typeof obj === 'object' || typeof obj === 'function') && typeof obj.then === 'function';\n}\nvar StorePermit = (function () {\n    function StorePermit(store) {\n        var _this = this;\n        this.store = store;\n        this.hasParent = function () {\n            if (_this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.hasParent()가 호출되면 안됨. 확인해서 지울것.');\n                return false;\n            }\n            if (_this.store && _this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.hasParent()가 호출되면 안됨. 확인해서 지울것.');\n                return false;\n            }\n            return _this.store\n                && !_this.store.destroyed\n                && _this.store.hasParent();\n        };\n        this.hasState = function (name) {\n            if (_this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.hasState()가 호출되면 안됨. 확인해서 지울것.');\n                return false;\n            }\n            if (_this.store && _this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.hasState()가 호출되면 안됨. 확인해서 지울것.');\n                return false;\n            }\n            return _this.store\n                && !_this.store.destroyed\n                && _this.store.hasState(name);\n        };\n        this.isPlainState = function (name) {\n            if (_this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.isPlainState()가 호출되면 안됨. 확인해서 지울것.');\n                return false;\n            }\n            if (_this.store && _this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.isPlainState()가 호출되면 안됨. 확인해서 지울것.');\n                return false;\n            }\n            return _this.store\n                && !_this.store.destroyed\n                && _this.store.isPlainState(name);\n        };\n        this.observe = function () {\n            var names = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                names[_i] = arguments[_i];\n            }\n            if (_this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.observe()가 호출되면 안됨. 확인해서 지울것.');\n                return rxjs_1.Observable.empty();\n            }\n            if (_this.store && _this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.observe()가 호출되면 안됨. 확인해서 지울것.');\n                return rxjs_1.Observable.empty();\n            }\n            var subject = new rxjs_1.BehaviorSubject(null);\n            _this._subjects.push(subject);\n            _this._subscriptions.push((_a = _this.store).observe.apply(_a, names).subscribe(subject));\n            return subject.distinctUntilChanged().debounceTime(1, rxjs_1.Scheduler.queue);\n            var _a;\n        };\n        this.getState = function () {\n            var names = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                names[_i] = arguments[_i];\n            }\n            if (_this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.getState()가 호출되면 안됨. 확인해서 지울것.');\n                return Promise.resolve({});\n            }\n            if (_this.store && _this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.getState()가 호출되면 안됨. 확인해서 지울것.');\n                return Promise.resolve({});\n            }\n            return (_a = _this.store).observe.apply(_a, names).first().toPromise();\n            var _a;\n        };\n        this.dispatch = function (action) {\n            if (_this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.dispatch()가 호출되면 안됨. 확인해서 지울것.');\n                return;\n            }\n            if (_this.store && _this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.dispatch()가 호출되면 안됨. 확인해서 지울것.');\n                return;\n            }\n            if (typeof action === 'function') {\n                var broken_1 = false;\n                var teardown_1 = action(_this.tools);\n                return function () {\n                    if (!broken_1 && typeof teardown_1 === 'function')\n                        teardown_1();\n                    broken_1 = true;\n                };\n            }\n            else if (isPromise(action)) {\n                var broken_2 = false;\n                Promise.resolve(action).then(function (update) {\n                    if (broken_2 || _this.destroyed)\n                        return;\n                    Object.keys(update).forEach(function (name) {\n                        if (_this.store.isPlainState(name))\n                            _this.store.update(name, update[name]);\n                    });\n                });\n                return function () { return broken_2 = true; };\n            }\n            else {\n                var update_1 = action;\n                Object.keys(update_1).forEach(function (name) {\n                    if (_this.store.isPlainState(name))\n                        _this.store.update(name, update_1[name]);\n                });\n                return function () {\n                };\n            }\n        };\n        this.destroy = function () {\n            if (_this._destroyed) {\n                console.error('StorePermit.destroy() can not be executed multiple times. Find and delete redundant code.');\n                return;\n            }\n            for (var _i = 0, _a = _this._subjects; _i < _a.length; _i++) {\n                var subject = _a[_i];\n                subject.complete();\n                subject.unsubscribe();\n            }\n            for (var _b = 0, _c = _this._subscriptions; _b < _c.length; _b++) {\n                var subscription = _c[_b];\n                subscription.unsubscribe();\n            }\n            _this._subjects = null;\n            _this._subscriptions = null;\n            _this._destroyed = true;\n            _this.store = null;\n        };\n        this._destroyed = false;\n        this._subjects = [];\n        this._subscriptions = [];\n    }\n    Object.defineProperty(StorePermit.prototype, \"destroyed\", {\n        get: function () {\n            return this._destroyed\n                || !this.store\n                || this.store.destroyed;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(StorePermit.prototype, \"tools\", {\n        get: function () {\n            var _this = this;\n            if (this._destroyed) {\n                console.error('StorePermit이 파괴된 이후엔 StorePermit.tools가 호출되면 안됨. 확인해서 지울것.');\n                return null;\n            }\n            if (this.store && this.store.destroyed) {\n                console.error('Store가 파괴된 이후엔 StorePermit.tools가 호출되면 안됨. 확인해서 지울것.');\n                return null;\n            }\n            var tools = {\n                observe: observe(this),\n                dispatch: dispatch(this),\n                getState: getState(this),\n            };\n            var storeTools = this.store.tools;\n            Object.keys(storeTools).forEach(function (name) {\n                tools[name] = storeTools[name](_this);\n            });\n            return tools;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return StorePermit;\n}());\nexports.StorePermit = StorePermit;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/permit.ts\n// module id = 3\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar permit_1 = require(\"./permit\");\nvar checkRestrictPropNames_1 = require(\"./checkRestrictPropNames\");\nvar internal_1 = require(\"./internal\");\nfunction excludeDefaultTools(tools) {\n    var keys = Object.keys(tools);\n    if (keys.length === 0)\n        return {};\n    var defaultTools = ['dispatch', 'observe', 'getState'];\n    return keys\n        .filter(function (key) { return defaultTools.indexOf(key) === -1; })\n        .reduce(function (filtertedTools, key) {\n        filtertedTools[key] = tools[key];\n        return filtertedTools;\n    }, {});\n}\nvar Store = (function () {\n    function Store(config, parentStore) {\n        var _this = this;\n        this.config = config;\n        this.parentStore = parentStore;\n        this.hasParent = function () {\n            if (_this._destroyed) {\n                console.error('Store 파괴 이후엔 hasParent()가 호출되면 안됨. 찾아서 삭제할 것.');\n                return false;\n            }\n            if (_this.parentStore) {\n                if (!_this.parentStore.destroyed) {\n                    return true;\n                }\n                else {\n                    console.error('The parent store has already been destroyed.\\n' +\n                        'This hasParent() should not be executed.\\n' +\n                        'Do not let this hasParent() execute.');\n                    return false;\n                }\n            }\n            else {\n                return false;\n            }\n        };\n        this.hasState = function (name) {\n            if (_this._destroyed) {\n                console.error('Store 파괴 이후엔 hasState()가 호출되면 안됨. 찾아서 삭제할 것.');\n                return false;\n            }\n            return _this.config.state[name] !== undefined\n                || (_this.parentStore && _this.parentStore.hasState(name));\n        };\n        this.isPlainState = function (name) {\n            if (_this._destroyed) {\n                console.error('Store 파괴 이후엔 isPlainState()가 호출되면 안됨. 찾아서 삭제할 것.');\n                return false;\n            }\n            if (!_this.hasState(name)) {\n                throw new Error(\"\\\"\" + name + \"\\\"\\uC740 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uB294 state name\\uC774\\uB2E4.\");\n            }\n            if (_this.config.state[name] !== undefined) {\n                return typeof _this.config.state[name] !== 'function';\n            }\n            else if (_this.parentStore) {\n                return _this.parentStore.isPlainState(name);\n            }\n        };\n        this.update = function (name, value) {\n            if (_this._destroyed) {\n                console.error('Store 파괴 이후에는 update()가 호출되면 안됨. 찾아서 삭제할 것.');\n                return;\n            }\n            if (!_this.hasState(name)) {\n                throw new Error(\"\\\"\" + name + \"\\\"\\uC740 \\uCC3E\\uC744 \\uC218 \\uC5C6\\uB294 state name\\uC774\\uB2E4.\");\n            }\n            if (!_this.isPlainState(name)) {\n                throw new Error(\"\\\"\" + name + \"\\\"\\uC740 Plain State\\uAC00 \\uC544\\uB2C8\\uAE30 \\uB54C\\uBB38\\uC5D0 update \\uD560 \\uC218 \\uC5C6\\uB2E4.\");\n            }\n            if (_this.config.state[name] !== undefined) {\n                var observable = _this.getObservable(name);\n                if (observable instanceof rxjs_1.Subject)\n                    observable.next(value);\n            }\n            else if (_this.parentStore) {\n                _this.parentStore.update(name, value);\n            }\n        };\n        this.getObservable = function (name) {\n            if (_this._destroyed) {\n                console.error('Store 파괴 이후 getObservable()이 호출되면 안됨. 찾아서 삭제할 것.');\n                return rxjs_1.Observable.empty();\n            }\n            if (!_this.hasState(name)) {\n                throw new Error(\"\\\"\" + name + \"\\\" is a state name that can not be found.\");\n            }\n            if (_this.config.state[name] !== undefined) {\n                if (!_this._observables.has(name)) {\n                    var observable = _this.isPlainState(name)\n                        ? new rxjs_1.BehaviorSubject(_this.config.state[name])\n                        : _this.config.state[name](_this.observe);\n                    _this._observables.set(name, observable);\n                }\n                return _this._observables.get(name);\n            }\n            else if (_this.parentStore) {\n                return _this.parentStore.getObservable(name);\n            }\n        };\n        this.observe = function () {\n            var names = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                names[_i] = arguments[_i];\n            }\n            if (_this._destroyed) {\n                console.error('Store 파괴 이후 observe()는 호출되면 안됨. 찾아서 삭제할 것.');\n                return rxjs_1.Observable.empty();\n            }\n            if (names.length === 1) {\n                return _this.getObservable(names[0])\n                    .map(function (value) {\n                    var states = {};\n                    states[names[0]] = value;\n                    return states;\n                });\n            }\n            else if (names.length > 1) {\n                return rxjs_1.Observable\n                    .combineLatest.apply(rxjs_1.Observable, names.map(function (name) { return _this.getObservable(name); }).concat([function () {\n                        var values = [];\n                        for (var _i = 0; _i < arguments.length; _i++) {\n                            values[_i] = arguments[_i];\n                        }\n                        return values.reduce(function (states, value, i) {\n                            states[names[i]] = value;\n                            return states;\n                        }, {});\n                    }]));\n            }\n            else {\n                throw new Error('names length is 0');\n            }\n        };\n        this.access = function () {\n            return !_this._destroyed ? new permit_1.StorePermit(_this) : null;\n        };\n        this.destroy = function () {\n            if (_this._destroyed) {\n                console.error('Store.destroy() can not be executed multiple times. Find and delete redundant code.');\n                return;\n            }\n            if (typeof _this._startupTeardown === 'function')\n                _this._startupTeardown();\n            if (_this._startupPermit instanceof permit_1.StorePermit)\n                _this._startupPermit.destroy();\n            _this._startupTeardown = null;\n            _this._startupPermit = null;\n            _this._observables.forEach(function (observable) {\n                if (observable instanceof rxjs_1.Subject) {\n                    observable.complete();\n                    observable.unsubscribe();\n                }\n            });\n            _this._observables.clear();\n            _this._destroyed = true;\n        };\n        checkRestrictPropNames_1.checkRestrictedPropNames(config.state, function (propName, restrictedPropNames) {\n            return \"Do not inlcude \" + propName + \" to \\\"state\\\", Restricted prop names are [\" + restrictedPropNames.join(', ') + \"]\";\n        });\n        this._observables = new Map();\n        this._destroyed = false;\n        if (typeof config.startup === 'function') {\n            this._startupPermit = this.access();\n            this._startupTeardown = this._startupPermit.dispatch(this.config.startup);\n        }\n    }\n    Store.prototype[internal_1.getParentStore] = function () {\n        return this.parentStore;\n    };\n    Store.prototype[internal_1.getConfig] = function () {\n        return this.config;\n    };\n    Object.defineProperty(Store.prototype, \"destroyed\", {\n        get: function () {\n            return this._destroyed;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Store.prototype, \"tools\", {\n        get: function () {\n            if (this._destroyed) {\n                console.error('Store 파괴 이후엔 tools가 호출되면 안됨. 찾아서 삭제할 것.');\n                return null;\n            }\n            var tools = this.config && this.config.tools ? this.config.tools : {};\n            return this.parentStore\n                ? Object.assign({}, excludeDefaultTools(this.parentStore.tools), tools)\n                : tools || {};\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Store;\n}());\nexports.Store = Store;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/store.ts\n// module id = 4\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar restrictedPropNames = ['children', 'parentStore'];\nexports.checkRestrictedPropNames = function (obj, errorMessage) {\n    var propName = restrictedPropNames.find(function (name) { return obj[name] !== undefined; });\n    if (typeof propName === 'string')\n        throw new Error(errorMessage(propName, restrictedPropNames));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/checkRestrictPropNames.ts\n// module id = 5\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getParentStore = Symbol('getParentStore');\nexports.getConfig = Symbol('getConfig');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/internal.ts\n// module id = 6\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar ContextReceiver = (function (_super) {\n    __extends(ContextReceiver, _super);\n    function ContextReceiver() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ContextReceiver.prototype.getChildContext = function () {\n        return {\n            _REFLOW_CONTEXT_: this.props.context,\n            _REFLOW_PARENT_CONTEXT_: this.props.parentContext,\n        };\n    };\n    ;\n    ContextReceiver.prototype.render = function () {\n        return this.props.children;\n    };\n    ContextReceiver.prototype.shouldComponentUpdate = function (nextProps) {\n        return this.props.context !== nextProps.context\n            || this.props.parentContext !== nextProps.parentContext;\n    };\n    return ContextReceiver;\n}(React.Component));\nContextReceiver.childContextTypes = {\n    _REFLOW_CONTEXT_: React.PropTypes.object,\n    _REFLOW_PARENT_CONTEXT_: React.PropTypes.object,\n};\nvar ContextLinker = (function (_super) {\n    __extends(ContextLinker, _super);\n    function ContextLinker() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.renderComponent = function (component, container) {\n            ReactDOM.render((React.createElement(ContextReceiver, { context: _this.context._REFLOW_CONTEXT_, parentContext: _this.context._REFLOW_PARENT_CONTEXT_ }, component)), container);\n            return function () {\n                ReactDOM.unmountComponentAtNode(container);\n                container.parentElement.removeChild(container);\n            };\n        };\n        return _this;\n    }\n    ContextLinker.prototype.render = function () {\n        return null;\n    };\n    return ContextLinker;\n}(React.Component));\nContextLinker.contextTypes = {\n    _REFLOW_CONTEXT_: React.PropTypes.object,\n    _REFLOW_PARENT_CONTEXT_: React.PropTypes.object,\n};\nexports.ContextLinker = ContextLinker;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/link.tsx\n// module id = 7\n// module chunks = 0","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar createContext_1 = require(\"./createContext\");\nvar internal_1 = require(\"./internal\");\nfunction getReflowContext() {\n    var root = [];\n    var nodes = new Map();\n    createContext_1.mountedStores.forEach(function (store) {\n        var parentStore = store[internal_1.getParentStore]();\n        var config = store[internal_1.getConfig]();\n        var node = {\n            store: store,\n            state: Object.keys(config.state),\n        };\n        nodes.set(store, node);\n        if (!parentStore)\n            root.push(node);\n    });\n    nodes.forEach(function (node, store) {\n        var parentStore = store[internal_1.getParentStore]();\n        if (!nodes.has(parentStore))\n            return;\n        var parentNode = nodes.get(parentStore);\n        if (!parentNode.children)\n            parentNode.children = [];\n        parentNode.children.push(node);\n    });\n    return { root: root, nodes: nodes };\n}\nfunction printReflowState(spacer) {\n    if (spacer === void 0) { spacer = '   '; }\n    var _a = getReflowContext(), root = _a.root, nodes = _a.nodes;\n    var promises = [];\n    var loaded = new Map();\n    nodes.forEach(function (node) {\n        promises.push((_a = node.store).observe.apply(_a, node.state).first().toPromise().then(function (state) {\n            loaded.set(node.store, state);\n        }));\n        var _a;\n    });\n    function printStoreNode(node, depth, prints) {\n        if (depth === void 0) { depth = 0; }\n        console.log(Array(depth).slice().fill(spacer).join(''), loaded.get(node.store));\n        if (node.children)\n            node.children.forEach(function (node) { return printStoreNode(node, depth + 1, prints); });\n    }\n    Promise.all(promises).then(function () {\n        var prints = [];\n        root.forEach(function (node) { return printStoreNode(node, 0, prints); });\n    });\n}\nif (window) {\n    window['getReflowContext'] = getReflowContext;\n    window['printReflowState'] = printReflowState;\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/printReflowContext.ts\n// module id = 8\n// module chunks = 0","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar rxjs_1 = require(\"rxjs\");\nvar react_1 = require(\"react\");\nfunction provide() {\n    var providers = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        providers[_i] = arguments[_i];\n    }\n    // TODO Support deprecated provide api. This is going to remove in 0.6\n    if (typeof providers[0] === 'function' || typeof providers[1] === 'function') {\n        var legacyProvider = {};\n        if (typeof providers[0] === 'function')\n            legacyProvider.mapState = providers[0];\n        if (typeof providers[1] === 'function')\n            legacyProvider.mapHandlers = providers[1];\n        providers = [legacyProvider];\n    }\n    return function (WrappedComponent) {\n        var Provided = (function (_super) {\n            __extends(Provided, _super);\n            function Provided() {\n                var _this = _super !== null && _super.apply(this, arguments) || this;\n                _this.state = {\n                    drops: null,\n                };\n                return _this;\n            }\n            Provided.prototype.render = function () {\n                return this.state.drops && this.dropState\n                    ? react_1.createElement(WrappedComponent, this.state.drops)\n                    : null;\n            };\n            Provided.prototype.updateDrops = function (props) {\n                this.setState({\n                    drops: Object.assign({}, props, this.dropState, this.dropHandlers)\n                });\n            };\n            Provided.prototype.componentWillMount = function () {\n                var _this = this;\n                this.permit = this.context._REFLOW_CONTEXT_.access();\n                var mapState = providers\n                    .filter(function (provider) { return typeof provider.mapState === 'function'; })\n                    .map(function (provider) { return provider.mapState(_this.permit.observe); });\n                var mapHandler = providers\n                    .filter(function (provider) { return typeof provider.mapHandlers === 'function'; })\n                    .map(function (provider) { return provider.mapHandlers(_this.permit.tools); });\n                this.dropHandlers = Object.assign.apply(Object, [{}].concat(mapHandler));\n                if (mapState.length > 0) {\n                    this.subscription = rxjs_1.Observable.combineLatest.apply(rxjs_1.Observable, mapState).map(function (states) { return Object.assign.apply(Object, [{}].concat(states)); })\n                        .subscribe(function (state) {\n                        _this.dropState = state;\n                        _this.updateDrops(_this.props);\n                    });\n                }\n                else {\n                    this.dropState = {};\n                    this.updateDrops(this.props);\n                }\n            };\n            Provided.prototype.componentWillReceiveProps = function (nextProps) {\n                this.updateDrops(nextProps);\n            };\n            Provided.prototype.componentWillUnmount = function () {\n                if (this.subscription)\n                    this.subscription.unsubscribe();\n                this.permit.destroy();\n                this.subscription = null;\n                this.permit = null;\n                this.dropHandlers = null;\n                this.dropState = null;\n            };\n            Provided.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n                return this.state.drops !== nextState.drops;\n            };\n            return Provided;\n        }(react_1.Component));\n        Provided.displayName = \"Provided(\" + (WrappedComponent.displayName || WrappedComponent.name) + \")\";\n        Provided.contextTypes = {\n            _REFLOW_CONTEXT_: react_1.PropTypes.object,\n        };\n        return Provided;\n    };\n}\nexports.provide = provide;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/provide.ts\n// module id = 9\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}\n// module id = 10\n// module chunks = 0","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./store\"));\n__export(require(\"./permit\"));\n__export(require(\"./createContext\"));\n__export(require(\"./provide\"));\n__export(require(\"./link\"));\nrequire(\"./printReflowContext\");\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/index.ts\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}